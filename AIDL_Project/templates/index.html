<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Crop Recommendation 	System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  </head>
  <style>
		h1 {
			color: mediumseagreen;
			text-align: center;
			font-weight: bold;
			text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
		}

		.warning {
			color: red;
			font-weight: bold;
			text-align: center;
		}

		.card{
			margin: 20px auto;
			max-width: 400px;
			color: white;
			box-shadow: 0 4px 8px rgba(0,0,0,0.3);
			border-radius: 15px;
			overflow: hidden;
		}

		.container{
			background:#edf2f7;
			font-weight: bold;
			padding: 30px;
			border-radius: 15px;
			box-shadow: 0 4px 6px rgba(0,0,0,0.1);
		}

		.form-control {
			border-radius: 10px;
			border: 2px solid #e2e8f0;
			transition: all 0.3s ease;
		}

		.form-control:focus {
			border-color: #28a745;
			box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
		}

		.btn-primary {
			background: linear-gradient(45deg, #007bff, #0056b3);
			border: none;
			border-radius: 25px;
			padding: 12px 30px;
			font-weight: bold;
			transition: all 0.3s ease;
		}

		.btn-primary:hover {
			transform: translateY(-2px);
			box-shadow: 0 4px 8px rgba(0,0,0,0.2);
		}

				.card-img-top {
			height: 200px;
			object-fit: cover;
			transition: transform 0.3s ease;
		}
		
		.crop-image-container {
			position: relative;
			overflow: hidden;
		}
		
		.crop-image {
			width: 100%;
			height: 100%;
			object-fit: cover;
			transition: transform 0.3s ease;
			/* Image quality optimizations */
			image-rendering: -webkit-optimize-contrast;
			image-rendering: crisp-edges;
			image-rendering: pixelated;
			backface-visibility: hidden;
			-webkit-backface-visibility: hidden;
			-webkit-font-smoothing: subpixel-antialiased;
			transform: translateZ(0);
		}
		
		.crop-overlay {
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: rgba(0,0,0,0.5);
			display: flex;
			align-items: center;
			justify-content: center;
			color: white;
			font-weight: bold;
			font-size: 1.2rem;
			opacity: 0;
			transition: opacity 0.3s ease;
		}
		
		.card:hover .crop-image {
			transform: scale(1.05) translateZ(0);
			-webkit-transform: scale(1.05) translateZ(0);
			backface-visibility: hidden;
			-webkit-backface-visibility: hidden;
			image-rendering: -webkit-optimize-contrast;
		}
		
		.card:hover .crop-overlay {
			opacity: 1;
		}

		.loading {
			display: none;
			text-align: center;
			margin: 20px 0;
		}

		.spinner-border {
			color: #28a745;
		}

		.parameter-info {
			font-size: 0.8em;
			color: #6c757d;
			margin-top: 5px;
		}

		/* Dynamic Background Styles - Optimized for Quality */
		.dynamic-background {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			z-index: -2;
			overflow: hidden;
			/* Hardware acceleration and quality optimizations */
			transform: translateZ(0);
			-webkit-transform: translateZ(0);
			backface-visibility: hidden;
			-webkit-backface-visibility: hidden;
			will-change: transform;
			-webkit-font-smoothing: subpixel-antialiased;
		}

		.bg-slide {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-size: cover;
			background-position: center center;
			background-repeat: no-repeat;
			background-attachment: fixed;
			opacity: 0;
			transition: opacity 2s ease-in-out;
			transform: translateZ(0);
			animation: subtleZoom 15s infinite ease-in-out;
			/* Enhanced image quality optimizations */
			backface-visibility: hidden;
			-webkit-backface-visibility: hidden;
			-webkit-transform: translateZ(0);
			will-change: transform, opacity;
			/* Remove all blur filters */
			filter: none;
			-webkit-filter: none;
			/* Optimize image rendering for sharpness */
			image-rendering: -webkit-optimize-contrast;
			image-rendering: crisp-edges;
			image-rendering: pixelated;
			-ms-interpolation-mode: nearest-neighbor;
			/* Prevent subpixel rendering issues */
			-webkit-font-smoothing: antialiased;
			-moz-osx-font-smoothing: grayscale;
		}

		.bg-slide.active {
			opacity: 1;
		}

		.content-overlay {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0, 0, 0, 0.4);
			z-index: -1;
			pointer-events: none;
		}

		/* Background loading indicator */
		.bg-loading {
			position: fixed;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			color: white;
			font-size: 1.2rem;
			z-index: 0;
			display: none;
		}

		/* Slideshow indicators */
		.slideshow-indicators {
			position: fixed;
			bottom: 20px;
			left: 50%;
			transform: translateX(-50%);
			z-index: 2;
			display: flex;
			gap: 10px;
			padding: 10px 15px;
			background: rgba(0, 0, 0, 0.3);
			border-radius: 25px;
			backdrop-filter: blur(10px);
		}

		.indicator {
			width: 12px;
			height: 12px;
			border-radius: 50%;
			background: rgba(255, 255, 255, 0.5);
			cursor: pointer;
			transition: all 0.3s ease;
		}

		.indicator.active {
			background: #4CAF50;
			transform: scale(1.2);
		}

		.indicator:hover {
			background: rgba(255, 255, 255, 0.8);
		}

		/* Individual background images - High Quality versions */
		#bg1 {
			background-image: url('{{ url_for("static", filename="images/Background_Images/AGRI1_HD.jpg") }}');
			animation-delay: 0s;
		}

		#bg2 {
			background-image: url('{{ url_for("static", filename="images/Background_Images/AGRI2_HD.jpg") }}');
			animation-delay: 4s;
		}

		#bg3 {
			background-image: url('{{ url_for("static", filename="images/Background_Images/AGRI3_HD.jpg") }}');
			animation-delay: 8s;
		}

		#bg4 {
			background-image: url('{{ url_for("static", filename="images/Background_Images/AGRI4_HD.jpg") }}');
			animation-delay: 12s;
		}

		#bg5 {
			background-image: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
			animation-delay: 16s;
		}

		/* Animation keyframes - optimized for quality without scaling */
		@keyframes subtleZoom {
			0% {
				transform: translateZ(0) scale(1.0);
				-webkit-transform: translateZ(0) scale(1.0);
			}
			50% {
				transform: translateZ(0) scale(1.02);
				-webkit-transform: translateZ(0) scale(1.02);
			}
			100% {
				transform: translateZ(0) scale(1.0);
				-webkit-transform: translateZ(0) scale(1.0);
			}
		}

		/* Ensure content is above background */
		body {
			position: relative;
			z-index: 1;
			background: transparent;
			min-height: 100vh;
		}

		/* Global image optimization for all images */
		img {
			image-rendering: auto;
			image-rendering: -webkit-optimize-contrast;
			max-width: 100%;
			height: auto;
			backface-visibility: hidden;
			-webkit-backface-visibility: hidden;
			transform: translateZ(0);
			-webkit-transform: translateZ(0);
		}

		.container {
			background: rgba(237, 242, 247, 0.98);
			/* Remove blur filter for sharper appearance */
			/* backdrop-filter: blur(5px); */
			border: 1px solid rgba(255, 255, 255, 0.3);
			/* Add subtle shadow for depth without blur */
			box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
		}

		@media (max-width: 768px) {
			.card {
				margin: 20px 10px;
			}
			.container {
				padding: 20px 15px;
				background: rgba(237, 242, 247, 0.98);
			}
			.bg-slide {
				animation: none;
				transform: scale(1) translateZ(0);
				-webkit-transform: scale(1) translateZ(0);
				background-attachment: scroll;
				background-size: cover;
				-webkit-backface-visibility: hidden;
				backface-visibility: hidden;
			}
		}
	</style>

  <body>
    <div class="dynamic-background">
      <div class="bg-slide" id="bg1"></div>
      <div class="bg-slide" id="bg2"></div>
      <div class="bg-slide" id="bg3"></div>
      <div class="bg-slide" id="bg4"></div>
      <div class="bg-slide" id="bg5"></div>
    </div>
    <div class="content-overlay"></div>
    
    <!-- Background slideshow indicators -->
    <div class="slideshow-indicators">
      <span class="indicator active" data-slide="0"></span>
      <span class="indicator" data-slide="1"></span>
      <span class="indicator" data-slide="2"></span>
      <span class="indicator" data-slide="3"></span>
      <span class="indicator" data-slide="4"></span>
    </div>
<!--=======================Enhanced Interactive Navbar with Stunning Effects=====================================================-->
<style>
/* Enhanced Navbar Styling with Stunning Animations */
.enhanced-navbar {
    background: linear-gradient(135deg, 
        rgba(20, 23, 28, 0.95) 0%, 
        rgba(33, 37, 41, 0.98) 50%, 
        rgba(44, 51, 56, 0.95) 100%);
    backdrop-filter: blur(15px) saturate(180%);
    -webkit-backdrop-filter: blur(15px) saturate(180%);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), 
                0 2px 16px rgba(76, 175, 80, 0.1);
    border-bottom: 1px solid rgba(76, 175, 80, 0.2);
    transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    position: sticky;
    top: 0;
    z-index: 1000;
}

.enhanced-navbar:hover {
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.5),
                0 4px 20px rgba(76, 175, 80, 0.15);
    border-bottom: 1px solid rgba(76, 175, 80, 0.4);
}

/* Stunning Brand Logo Animation */
.enhanced-brand {
    font-weight: 700;
    font-size: 1.4rem;
    background: linear-gradient(45deg, #4CAF50, #81C784, #A5D6A7, #4CAF50);
    background-size: 300% 300%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: gradientShift 3s ease infinite;
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    position: relative;
    overflow: hidden;
}

.enhanced-brand::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
}

.enhanced-brand:hover::before {
    left: 100%;
}

.enhanced-brand:hover {
    transform: scale(1.05) translateY(-2px);
    filter: brightness(1.2) drop-shadow(0 4px 8px rgba(76, 175, 80, 0.3));
}

@keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* Enhanced Navigation Links */
.enhanced-nav-link {
    color: rgba(255, 255, 255, 0.9) !important;
    font-weight: 500;
    font-size: 1rem;
    padding: 0.75rem 1.2rem !important;
    margin: 0 0.3rem;
    border-radius: 12px;
    position: relative;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid transparent;
    backdrop-filter: blur(10px);
}

/* Stunning Hover Effect with Slide Animation */
.enhanced-nav-link::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, 
        rgba(76, 175, 80, 0.2) 0%,
        rgba(129, 199, 132, 0.3) 50%,
        rgba(165, 214, 167, 0.2) 100%);
    transition: left 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    z-index: -1;
}

.enhanced-nav-link:hover::before {
    left: 0;
}

.enhanced-nav-link:hover {
    color: #ffffff !important;
    transform: translateY(-3px) scale(1.02);
    box-shadow: 0 8px 25px rgba(76, 175, 80, 0.3),
                0 4px 12px rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(76, 175, 80, 0.4);
    background: rgba(76, 175, 80, 0.1);
}

/* Icon Rotation and Glow Effect */
.enhanced-nav-link i {
    transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    margin-right: 0.5rem;
}

.enhanced-nav-link:hover i {
    transform: rotate(360deg) scale(1.1);
    color: #81C784;
    filter: drop-shadow(0 0 8px rgba(129, 199, 132, 0.6));
}

/* Active Navigation Link */
.enhanced-nav-link.active {
    background: linear-gradient(135deg, 
        rgba(76, 175, 80, 0.3) 0%,
        rgba(129, 199, 132, 0.2) 100%);
    color: #ffffff !important;
    border: 1px solid rgba(76, 175, 80, 0.5);
    box-shadow: 0 4px 15px rgba(76, 175, 80, 0.2);
}

.enhanced-nav-link.active::before {
    left: 0;
    background: linear-gradient(135deg, 
        rgba(76, 175, 80, 0.1) 0%,
        rgba(129, 199, 132, 0.15) 100%);
}

/* Enhanced Search Bar */
.enhanced-search-container {
    position: relative;
    display: flex;
    align-items: center;
}

.enhanced-search-input {
    background: rgba(255, 255, 255, 0.08) !important;
    border: 2px solid rgba(76, 175, 80, 0.3) !important;
    border-radius: 25px !important;
    color: #ffffff !important;
    padding: 0.6rem 1.2rem !important;
    font-size: 0.95rem;
    backdrop-filter: blur(10px);
    transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
}

.enhanced-search-input::placeholder {
    color: rgba(255, 255, 255, 0.6) !important;
    font-style: italic;
}

.enhanced-search-input:focus {
    background: rgba(255, 255, 255, 0.12) !important;
    border-color: #4CAF50 !important;
    box-shadow: 0 0 0 0.25rem rgba(76, 175, 80, 0.25),
                0 4px 15px rgba(76, 175, 80, 0.2),
                inset 0 2px 4px rgba(0, 0, 0, 0.1) !important;
    transform: scale(1.05);
    color: #ffffff !important;
}

/* Enhanced Search Button */
.enhanced-search-btn {
    background: linear-gradient(135deg, #4CAF50 0%, #45A049 100%) !important;
    border: none !important;
    border-radius: 20px !important;
    padding: 0.6rem 1rem !important;
    margin-left: 0.5rem;
    color: #ffffff !important;
    font-weight: 600;
    transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
    position: relative;
    overflow: hidden;
}

.enhanced-search-btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    transition: all 0.3s ease;
}

.enhanced-search-btn:hover::before {
    width: 100%;
    height: 100%;
    border-radius: 0;
}

.enhanced-search-btn:hover {
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 8px 20px rgba(76, 175, 80, 0.4),
                0 4px 12px rgba(0, 0, 0, 0.2);
    background: linear-gradient(135deg, #45A049 0%, #3D8B40 100%) !important;
}

.enhanced-search-btn i {
    transition: transform 0.3s ease;
}

.enhanced-search-btn:hover i {
    transform: rotate(360deg) scale(1.1);
}

/* Mobile Toggle Button Enhancement */
.enhanced-toggler {
    background: rgba(76, 175, 80, 0.2);
    border: 2px solid rgba(76, 175, 80, 0.4);
    border-radius: 8px;
    padding: 0.5rem;
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
}

.enhanced-toggler:hover {
    background: rgba(76, 175, 80, 0.3);
    border-color: rgba(76, 175, 80, 0.6);
    transform: scale(1.05);
    box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
}

.enhanced-toggler .navbar-toggler-icon {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%2876, 175, 80, 1%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='m4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
}

/* Smooth Collapse Animation */
.navbar-collapse {
    transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
}

/* Responsive Enhancements */
@media (max-width: 991.98px) {
    .enhanced-navbar {
        backdrop-filter: blur(20px) saturate(180%);
        -webkit-backdrop-filter: blur(20px) saturate(180%);
    }
    
    .enhanced-nav-link {
        margin: 0.2rem 0;
        text-align: center;
    }
    
    .enhanced-search-container {
        margin-top: 1rem;
        justify-content: center;
    }
    
    .enhanced-search-input {
        margin-bottom: 0.5rem;
        width: 100%;
    }
}

/* Smooth Page Load Animation */
.enhanced-navbar {
    animation: slideDown 0.6s cubic-bezier(0.25, 0.8, 0.25, 1);
}

@keyframes slideDown {
    0% {
        transform: translateY(-100%);
        opacity: 0;
    }
    100% {
        transform: translateY(0);
        opacity: 1;
    }
}

/* Additional Glow Effects */
.enhanced-navbar::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(76, 175, 80, 0.6), transparent);
    animation: glow 3s ease-in-out infinite;
}

@keyframes glow {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 1; }
}
</style>
<!--=======================navbar=====================================================-->
<nav class="navbar navbar-expand-lg navbar-dark enhanced-navbar">
  <div class="container-fluid">
    <a class="navbar-brand enhanced-brand" href="/">
      <i class="fas fa-seedling me-2"></i>Crop Recommendation
    </a>
    <button class="navbar-toggler enhanced-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link enhanced-nav-link active" aria-current="page" href="#">
            <i class="fas fa-home me-1"></i>Home
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link enhanced-nav-link" href="#">
            <i class="fas fa-envelope me-1"></i>Contact
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link enhanced-nav-link" href="#">
            <i class="fas fa-info-circle me-1"></i>About
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link enhanced-nav-link" href="#">
            <i class="fas fa-chart-bar me-1"></i>Analytics
          </a>
        </li>
      </ul>
      <div class="enhanced-search-container" role="search">
        <input class="form-control enhanced-search-input" type="search" placeholder="Search crops..." aria-label="Search">
        <button class="btn enhanced-search-btn" type="submit">
          <i class="fas fa-search"></i>
        </button>
      </div>
    </div>
  </div>
</nav>

<!--==========================================================================================-->
  <div class="container my-4">
      <h1 class="text-success mb-4">
        <i class="fas fa-leaf me-2"></i>Crop Recommendation System <span class="text-success">ðŸŒ±</span>
      </h1>

<!--      adding form-->
      <form action="/predict" method="POST" id="cropForm">
          <div class="row">
              <div class="col-md-4 mb-3">
					<label for="Nitrogen" class="form-label">
						<i class="fas fa-atom me-1"></i>Nitrogen (N)
					</label>
					<input type="number" id="Nitrogen" name="Nitrogen" placeholder="Enter Nitrogen" class="form-control" required min="0" max="200">
					<div class="parameter-info">Essential for leaf growth and chlorophyll production</div>
				</div>
               <div class="col-md-4 mb-3">
					<label for="Phosporus" class="form-label">
						<i class="fas fa-fire me-1"></i>Phosphorus (P)
					</label>
					<input type="number" id="Phosporus" name="Phosporus" placeholder="Enter Phosphorus" class="form-control" required min="0" max="200">
					<div class="parameter-info">Important for root development and flowering</div>
				</div>
				<div class="col-md-4 mb-3">
					<label for="Potassium" class="form-label">
						<i class="fas fa-bolt me-1"></i>Potassium (K)
					</label>
					<input type="number" id="Potassium" name="Potassium" placeholder="Enter Potassium" class="form-control" required min="0" max="200">
					<div class="parameter-info">Helps with disease resistance and fruit quality</div>
				</div>
          </div>

          <div class="row">
				<div class="col-md-4 mb-3">
					<label for="Temperature" class="form-label">
						<i class="fas fa-thermometer-half me-1"></i>Temperature (Â°C)
					</label>
					<input type="number" step="0.1" id="Temperature" name="Temperature" placeholder="Enter Temperature in Â°C" class="form-control" required min="-10" max="50">
					<div class="parameter-info">Average temperature for the growing season</div>
				</div>
				<div class="col-md-4 mb-3">
					<label for="Humidity" class="form-label">
						<i class="fas fa-tint me-1"></i>Humidity (%)
					</label>
					<input type="number" step="0.1" id="Humidity" name="Humidity" placeholder="Enter Humidity in %" class="form-control" required min="0" max="100">
					<div class="parameter-info">Relative humidity in the environment</div>
				</div>
				<div class="col-md-4 mb-3">
					<label for="Ph" class="form-label">
						<i class="fas fa-flask me-1"></i>pH Value
					</label>
					<input type="number" step="0.1" id="Ph" name="Ph" placeholder="Enter pH value" class="form-control" required min="0" max="14">
					<div class="parameter-info">Soil pH level (0-14 scale)</div>
				</div>
			</div>

          <div class="row">
				<div class="col-md-4 mb-3">
					<label for="Rainfall" class="form-label">
						<i class="fas fa-cloud-rain me-1"></i>Rainfall (mm)
					</label>
					<input type="number" step="0.1" id="Rainfall" name="Rainfall" placeholder="Enter Rainfall in mm" class="form-control" required min="0" max="3000">
					<div class="parameter-info">Annual rainfall in millimeters</div>
				</div>
			</div>

           <div class="row mt-4">
           <div class="col-md-12 text-center">
				<button type="submit" class="btn btn-primary btn-lg" id="submitBtn">
					<i class="fas fa-magic me-2"></i>Get Recommendation
				</button>
			</div>
			</div>
      </form>

      <!-- Loading Spinner -->
      <div class="loading" id="loading">
        <div class="spinner-border" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
        <p class="mt-2">Analyzing soil conditions and climate data...</p>
      </div>

      <!-- Error Messages -->
      {% if error %}
      <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <i class="fas fa-exclamation-triangle me-2"></i>{{ error }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
      {% endif %}

               {% if result %}
		<div class="card bg-dark">
		  <div class="card-img-top crop-image-container" style="height: 200px; background: linear-gradient(135deg, #28a745, #20c997); display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden;">
		    <img src="{{ url_for('static', filename='images/crops/' + crop_image) }}" 
		         class="crop-image" 
		         alt="{{ crop }} crop" 
		         loading="eager"
		         decoding="sync"
		         style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease; image-rendering: -webkit-optimize-contrast; image-rendering: crisp-edges;"
		         onerror="this.style.display='none'; this.parentElement.innerHTML='<div style=\'color: white; text-align: center; font-size: 2rem; font-weight: bold;\'>{{ crop }}</div><div style=\'color: white; text-align: center; font-size: 1rem; margin-top: 10px;\'>ðŸŒ±</div>'">
		    <div class="crop-overlay" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 1.2rem; opacity: 0; transition: opacity 0.3s ease;">
		      {{ crop }}
		    </div>
		  </div>
		  <div class="card-body">
			<h5 class="card-title">
				<i class="fas fa-star me-2"></i>Recommended Crop for cultivation:
			</h5>
			<p class="card-text">{{ result }}</p>
			<div class="mt-3">
				<small class="text-muted">
					<i class="fas fa-info-circle me-1"></i>
					This recommendation is based on machine learning analysis of your soil and climate parameters.
				</small>
			</div>
		  </div>
		</div>
	   {% endif %}
  </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>

    <script>
        // Form submission with loading state
        document.getElementById('cropForm').addEventListener('submit', function() {
            document.getElementById('loading').style.display = 'block';
            document.getElementById('submitBtn').disabled = true;
            document.getElementById('submitBtn').innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Processing...';
        });

        // Dynamic Background Management
        let currentSlide = 0;
        const slides = document.querySelectorAll('.bg-slide');
        const indicators = document.querySelectorAll('.indicator');
        const totalSlides = slides.length;
        let slideInterval;
        
        // Initialize first slide
        slides[0].classList.add('active');
        
        function goToSlide(slideIndex) {
            // Remove active class from current slide and indicator
            slides[currentSlide].classList.remove('active');
            indicators[currentSlide].classList.remove('active');
            
            // Set new current slide
            currentSlide = slideIndex;
            
            // Add active class to new slide and indicator
            slides[currentSlide].classList.add('active');
            indicators[currentSlide].classList.add('active');
        }
        
        function nextSlide() {
            const nextIndex = (currentSlide + 1) % totalSlides;
            goToSlide(nextIndex);
        }
        
        // Auto-change background every 5 seconds
        function startSlideshow() {
            slideInterval = setInterval(nextSlide, 5000);
        }
        
        function stopSlideshow() {
            clearInterval(slideInterval);
        }
        
        // Add click events to indicators
        indicators.forEach((indicator, index) => {
            indicator.addEventListener('click', () => {
                stopSlideshow();
                goToSlide(index);
                // Restart slideshow after manual selection
                setTimeout(startSlideshow, 3000);
            });
        });
        
        // Start the slideshow
        startSlideshow();
        
        // Preload images for smooth transitions with quality optimization
        function preloadImages() {
            const imageUrls = [
                '{{ url_for("static", filename="images/Background_Images/AGRI1_HD.jpg") }}',
                '{{ url_for("static", filename="images/Background_Images/AGRI2_HD.jpg") }}',
                '{{ url_for("static", filename="images/Background_Images/AGRI3_HD.jpg") }}',
                '{{ url_for("static", filename="images/Background_Images/AGRI4_HD.jpg") }}'
            ];
            
            imageUrls.forEach((url, index) => {
                const img = new Image();
                // Set image quality attributes for optimal rendering
                img.decoding = 'sync';
                img.loading = 'eager';
                img.fetchPriority = 'high';
                // Optimize image rendering for high quality
                img.style.imageRendering = 'auto';
                img.style.backfaceVisibility = 'hidden';
                img.style.transform = 'translateZ(0)';
                img.style.webkitTransform = 'translateZ(0)';
                img.style.webkitBackfaceVisibility = 'hidden';
                
                // Preload with priority
                img.onload = function() {
                    console.log(`Background image ${index + 1} preloaded successfully`);
                };
                
                img.onerror = function() {
                    console.warn(`Failed to preload background image: ${url}`);
                };
                
                img.src = url;
            });
        }
        
        // Preload images when page loads
        preloadImages();

        // Input validation
        document.querySelectorAll('input[type="number"]').forEach(function(input) {
            input.addEventListener('input', function() {
                if (this.checkValidity()) {
                    this.classList.remove('is-invalid');
                    this.classList.add('is-valid');
                } else {
                    this.classList.remove('is-valid');
                    this.classList.add('is-invalid');
                }
            });
        });
    </script>
  </body>
</html>

